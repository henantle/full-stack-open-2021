(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{20:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var c=t(1),o=t(15),a=t.n(o),u=(t(20),t(3)),r=t(0),s=function(e){var n=e.setNewFilterValue;return Object(r.jsx)("input",{onChange:function(e){var t=e.target;return n(t.value)}})},i=function(e){var n=e.handleDelete;return console.log(e),Object(r.jsxs)("div",{children:[Object(r.jsxs)("span",{children:[e.name," ",e.number]}),Object(r.jsx)("button",{onClick:function(){return n(e.id)},children:"delete"})]})},l=function(e){var n=e.namesToShow,t=e.handleDelete;return console.log(n),console.log(typeof n),Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Numbers"}),n.map((function(e){return Object(r.jsx)(i,{id:e.id,name:e.name,number:e.number,handleDelete:t},e.id)}))]})},d=t(6),f=t(4),j=t.n(f),b="/api/persons",h=function(){return j.a.get(b).then((function(e){return e.data}))},m=function(e){return j.a.post(b,e).then((function(e){return e.data}))},O=function(e,n){return j.a.put("".concat(b,"/").concat(e),n).then((function(e){return e.data}))},v=function(e){return j.a.delete("".concat(b,"/").concat(e)).then((function(e){return e.data}))},g=function(e){var n=e.newName,t=e.newPhoneNumber,c=e.persons,o=e.setPersons,a=e.setNewName,u=e.setNewPhoneNumber,s=e.setNotificationMessage;return Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault();var r={name:n,number:t},i=c.find((function(e){return e.name===n}));if(i){var l=window.confirm("".concat(r.name," is already added to phonebook, replace the old number with a new one?"));if(console.log(i),l){var f=Object(d.a)(Object(d.a)({},i),{},{number:t}),j=f.id;console.log(f),console.log(j),O(j,f).then((function(e){o(c.map((function(n){return n.id!==j?n:e}))),s("Contact '".concat(f.name,"' was successfully updated to server")),setTimeout((function(){s(null)}),5e3)}))}}else o(c.concat(r)),m(r).then((function(e){o(c.concat(e)),a(""),u(""),s("Contact '".concat(r.name,"' was successfully saved to server")),setTimeout((function(){s(null)}),5e3)}))},children:[Object(r.jsx)("h2",{children:"add a new"}),Object(r.jsxs)("div",{children:["name: ",Object(r.jsx)("input",{value:n,onChange:function(e){console.log(e.target.value),a(e.target.value)}})]}),Object(r.jsxs)("div",{children:["phone number: ",Object(r.jsx)("input",{value:t,onChange:function(e){console.log(e.target.value),u(e.target.value)}})]}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{type:"submit",children:"add"})})]})},w=function(e){var n=e.message;return null===n?null:Object(r.jsx)("div",{className:"success",children:n})},p=function(){var e=Object(c.useState)([]),n=Object(u.a)(e,2),t=n[0],o=n[1],a=Object(c.useState)(""),i=Object(u.a)(a,2),d=i[0],f=i[1],j=Object(c.useState)(""),b=Object(u.a)(j,2),m=b[0],O=b[1],p=Object(c.useState)(""),x=Object(u.a)(p,2),N=x[0],C=x[1],P=Object(c.useState)(null),S=Object(u.a)(P,2),y=S[0],D=S[1];Object(c.useEffect)((function(){h().then((function(e){console.log(e),o(t.concat(e))}))}),[]);var T=""!==N?t.filter((function(e){return e.name.toLowerCase().includes(N.toLowerCase())})):t;return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Phonebook"}),Object(r.jsx)(w,{message:y}),"filter shown with ",Object(r.jsx)(s,{setNewFilterValue:C}),Object(r.jsx)(g,{newName:d,setNewName:f,newPhoneNumber:m,setNewPhoneNumber:O,persons:t,setPersons:o,setNotificationMessage:D}),Object(r.jsx)(l,{namesToShow:T,handleDelete:function(e){var n=t.find((function(n){return n.id===e}));window.confirm("Delete ".concat(n.name,"?"))&&v(e).then((function(){var c=t.filter((function(n){return n.id!==e}));o(c),D("Contact '".concat(n.name,"' was successfully removed from server")),setTimeout((function(){D(null)}),5e3)}))},setNotificationMessage:D})]})},x=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,41)).then((function(n){var t=n.getCLS,c=n.getFID,o=n.getFCP,a=n.getLCP,u=n.getTTFB;t(e),c(e),o(e),a(e),u(e)}))};a.a.render(Object(r.jsx)(p,{}),document.getElementById("root")),x()}},[[40,1,2]]]);
//# sourceMappingURL=main.bbc24121.chunk.js.map